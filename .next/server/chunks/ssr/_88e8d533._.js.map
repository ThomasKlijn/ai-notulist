{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/DownloadAppButton.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\n\ninterface BeforeInstallPromptEvent extends Event {\n  prompt(): Promise<void>;\n  userChoice: Promise<{ outcome: 'accepted' | 'dismissed'; platform: string }>;\n}\n\nexport default function DownloadAppButton() {\n  const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\n  const [isInstallable, setIsInstallable] = useState(false);\n  const [isInstalled, setIsInstalled] = useState(false);\n\n  useEffect(() => {\n    // Check if app is already installed\n    if (window.matchMedia && window.matchMedia('(display-mode: standalone)').matches) {\n      setIsInstalled(true);\n      return;\n    }\n\n    const handleBeforeInstallPrompt = (e: Event) => {\n      e.preventDefault();\n      setDeferredPrompt(e as BeforeInstallPromptEvent);\n      setIsInstallable(true);\n    };\n\n    const handleAppInstalled = () => {\n      setIsInstalled(true);\n      setIsInstallable(false);\n      setDeferredPrompt(null);\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n    window.addEventListener('appinstalled', handleAppInstalled);\n\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n      window.removeEventListener('appinstalled', handleAppInstalled);\n    };\n  }, []);\n\n  const handleInstallClick = async () => {\n    if (!deferredPrompt) {\n      // Fallback for devices that don't support install prompt\n      showManualInstructions();\n      return;\n    }\n\n    try {\n      deferredPrompt.prompt();\n      const { outcome } = await deferredPrompt.userChoice;\n      \n      if (outcome === 'accepted') {\n        console.log('User accepted the install prompt');\n        setIsInstalled(true);\n      }\n      \n      setDeferredPrompt(null);\n      setIsInstallable(false);\n    } catch (error) {\n      console.error('Error during installation:', error);\n      showManualInstructions();\n    }\n  };\n\n  const showManualInstructions = () => {\n    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\n    const isAndroid = /Android/.test(navigator.userAgent);\n    \n    let instructions = '';\n    if (isIOS) {\n      instructions = 'Tap the Share button in Safari, then \"Add to Home Screen\"';\n    } else if (isAndroid) {\n      instructions = 'Open in Chrome, tap the menu (⋮), then \"Add to Home screen\"';\n    } else {\n      instructions = 'Open in your mobile browser and look for \"Add to Home Screen\" option';\n    }\n    \n    alert(`To install AI Notulist:\\n\\n${instructions}`);\n  };\n\n  // Don't show button if app is already installed\n  if (isInstalled) {\n    return (\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: '8px',\n        backgroundColor: '#10b981',\n        color: 'white',\n        padding: '12px 20px',\n        borderRadius: '8px',\n        fontSize: '14px',\n        fontWeight: '500'\n      }}>\n        <span>✅</span>\n        <span>App Installed</span>\n      </div>\n    );\n  }\n\n  return (\n    <button\n      onClick={handleInstallClick}\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: '12px',\n        backgroundColor: '#000',\n        color: 'white',\n        padding: '16px 24px',\n        border: 'none',\n        borderRadius: '12px',\n        fontSize: '16px',\n        fontWeight: '600',\n        cursor: 'pointer',\n        transition: 'all 0.2s ease',\n        boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\n        minHeight: '56px'\n      }}\n      onMouseEnter={(e) => {\n        e.currentTarget.style.backgroundColor = '#333';\n        e.currentTarget.style.transform = 'translateY(-2px)';\n      }}\n      onMouseLeave={(e) => {\n        e.currentTarget.style.backgroundColor = '#000';\n        e.currentTarget.style.transform = 'translateY(0)';\n      }}\n    >\n      <span style={{ fontSize: '20px' }}>📱</span>\n      <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start' }}>\n        <span>Download Mobile App</span>\n        <span style={{ fontSize: '12px', opacity: 0.8 }}>\n          {isInstallable ? 'Install directly to your phone' : 'Add to home screen'}\n        </span>\n      </div>\n    </button>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASe,SAAS;IACtB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAkC;IACtF,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACR,oCAAoC;QACpC,IAAI,OAAO,UAAU,IAAI,OAAO,UAAU,CAAC,8BAA8B,OAAO,EAAE;YAChF,eAAe;YACf;QACF;QAEA,MAAM,4BAA4B,CAAC;YACjC,EAAE,cAAc;YAChB,kBAAkB;YAClB,iBAAiB;QACnB;QAEA,MAAM,qBAAqB;YACzB,eAAe;YACf,iBAAiB;YACjB,kBAAkB;QACpB;QAEA,OAAO,gBAAgB,CAAC,uBAAuB;QAC/C,OAAO,gBAAgB,CAAC,gBAAgB;QAExC,OAAO;YACL,OAAO,mBAAmB,CAAC,uBAAuB;YAClD,OAAO,mBAAmB,CAAC,gBAAgB;QAC7C;IACF,GAAG,EAAE;IAEL,MAAM,qBAAqB;QACzB,IAAI,CAAC,gBAAgB;YACnB,yDAAyD;YACzD;YACA;QACF;QAEA,IAAI;YACF,eAAe,MAAM;YACrB,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,eAAe,UAAU;YAEnD,IAAI,YAAY,YAAY;gBAC1B,QAAQ,GAAG,CAAC;gBACZ,eAAe;YACjB;YAEA,kBAAkB;YAClB,iBAAiB;QACnB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C;QACF;IACF;IAEA,MAAM,yBAAyB;QAC7B,MAAM,QAAQ,mBAAmB,IAAI,CAAC,UAAU,SAAS;QACzD,MAAM,YAAY,UAAU,IAAI,CAAC,UAAU,SAAS;QAEpD,IAAI,eAAe;QACnB,IAAI,OAAO;YACT,eAAe;QACjB,OAAO,IAAI,WAAW;YACpB,eAAe;QACjB,OAAO;YACL,eAAe;QACjB;QAEA,MAAM,CAAC,2BAA2B,EAAE,cAAc;IACpD;IAEA,gDAAgD;IAChD,IAAI,aAAa;QACf,qBACE,8OAAC;YAAI,OAAO;gBACV,SAAS;gBACT,YAAY;gBACZ,KAAK;gBACL,iBAAiB;gBACjB,OAAO;gBACP,SAAS;gBACT,cAAc;gBACd,UAAU;gBACV,YAAY;YACd;;8BACE,8OAAC;8BAAK;;;;;;8BACN,8OAAC;8BAAK;;;;;;;;;;;;IAGZ;IAEA,qBACE,8OAAC;QACC,SAAS;QACT,OAAO;YACL,SAAS;YACT,YAAY;YACZ,KAAK;YACL,iBAAiB;YACjB,OAAO;YACP,SAAS;YACT,QAAQ;YACR,cAAc;YACd,UAAU;YACV,YAAY;YACZ,QAAQ;YACR,YAAY;YACZ,WAAW;YACX,WAAW;QACb;QACA,cAAc,CAAC;YACb,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;YACxC,EAAE,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG;QACpC;QACA,cAAc,CAAC;YACb,EAAE,aAAa,CAAC,KAAK,CAAC,eAAe,GAAG;YACxC,EAAE,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG;QACpC;;0BAEA,8OAAC;gBAAK,OAAO;oBAAE,UAAU;gBAAO;0BAAG;;;;;;0BACnC,8OAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,eAAe;oBAAU,YAAY;gBAAa;;kCAC/E,8OAAC;kCAAK;;;;;;kCACN,8OAAC;wBAAK,OAAO;4BAAE,UAAU;4BAAQ,SAAS;wBAAI;kCAC3C,gBAAgB,mCAAmC;;;;;;;;;;;;;;;;;;AAK9D","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport DownloadAppButton from '../../components/DownloadAppButton';\n\ninterface User {\n  id: string;\n  firstName: string;\n  lastName: string;\n  companyName: string;\n  email: string;\n}\n\nexport default function Dashboard() {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const response = await fetch('/api/auth/check');\n        if (response.ok) {\n          const data = await response.json();\n          if (data.authenticated && data.user) {\n            setUser(data.user);\n          } else {\n            // Redirect to login if not authenticated\n            window.location.href = '/login';\n          }\n        } else {\n          // Redirect to login if auth check fails\n          window.location.href = '/login';\n        }\n      } catch (error) {\n        console.error('Error fetching user:', error);\n        window.location.href = '/login';\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUser();\n  }, []);\n  const handleLogout = async () => {\n    try {\n      await fetch('/api/auth/logout', { method: 'POST' });\n      window.location.href = '/login';\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <main style={{ \n        display: 'flex', \n        justifyContent: 'center', \n        alignItems: 'center', \n        minHeight: '100vh',\n        fontSize: '18px',\n        color: '#6b7280'\n      }}>\n        Laden...\n      </main>\n    );\n  }\n\n  return (\n    <main style={{ textAlign: 'center', padding: '40px 20px' }}>\n      <div style={{ \n        position: 'absolute', \n        top: '20px', \n        right: '20px' \n      }}>\n        <button\n          onClick={handleLogout}\n          style={{\n            backgroundColor: '#ef4444',\n            color: 'white',\n            padding: '8px 16px',\n            border: 'none',\n            borderRadius: '6px',\n            fontSize: '14px',\n            fontWeight: '500',\n            cursor: 'pointer',\n            transition: 'background-color 0.2s ease'\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.backgroundColor = '#dc2626';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.backgroundColor = '#ef4444';\n          }}\n        >\n          Logout\n        </button>\n      </div>\n      \n      {/* Welcome Message */}\n      {user && (\n        <div style={{ \n          marginBottom: '32px',\n          padding: '20px',\n          backgroundColor: '#f0f9ff',\n          borderRadius: '12px',\n          border: '1px solid #bae6fd'\n        }}>\n          <h1 style={{ \n            fontSize: '28px', \n            fontWeight: '600', \n            color: '#0f172a',\n            margin: '0 0 8px 0'\n          }}>\n            Welkom {user.firstName}!\n          </h1>\n          <p style={{ \n            fontSize: '16px', \n            color: '#64748b',\n            margin: '0'\n          }}>\n            {user.companyName} • {user.email}\n          </p>\n        </div>\n      )}\n\n      <div style={{ marginBottom: '48px' }}>\n        <h2 style={{ fontSize: '32px', fontWeight: 'bold', marginBottom: '16px', color: '#1f2937' }}>\n          AI-Powered Meeting Notes\n        </h2>\n        <p style={{ fontSize: '18px', color: '#6b7280', marginBottom: '32px', maxWidth: '600px', margin: '0 auto 32px' }}>\n          Record meetings, get instant AI transcriptions, and automatically email summaries to all attendees. \n          Now available as a mobile app for easy access anywhere.\n        </p>\n        \n        <div style={{ \n          display: 'flex', \n          gap: '20px', \n          justifyContent: 'center', \n          alignItems: 'center',\n          flexWrap: 'wrap',\n          marginBottom: '48px'\n        }}>\n          <DownloadAppButton />\n          \n          <a \n            href=\"/meetings/new\" \n            style={{\n              display: 'inline-flex',\n              alignItems: 'center',\n              gap: '8px',\n              backgroundColor: '#3b82f6',\n              color: 'white',\n              padding: '16px 24px',\n              textDecoration: 'none',\n              borderRadius: '12px',\n              fontSize: '16px',\n              fontWeight: '600',\n              minHeight: '56px',\n              transition: 'all 0.2s ease'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = '#2563eb';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = '#3b82f6';\n            }}\n          >\n            <span>🎙️</span>\n            Start New Meeting\n          </a>\n        </div>\n      </div>\n\n      <div style={{ \n        display: 'grid', \n        gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', \n        gap: '24px',\n        maxWidth: '900px',\n        margin: '0 auto'\n      }}>\n        <div style={{ \n          backgroundColor: '#f8fafc', \n          padding: '24px', \n          borderRadius: '12px',\n          textAlign: 'left'\n        }}>\n          <h3 style={{ fontSize: '20px', fontWeight: '600', marginBottom: '12px', color: '#1f2937' }}>\n            🎤 Easy Recording\n          </h3>\n          <p style={{ color: '#6b7280', lineHeight: '1.6' }}>\n            One-click recording with real-time chunking and automatic cloud processing.\n          </p>\n        </div>\n\n        <div style={{ \n          backgroundColor: '#f8fafc', \n          padding: '24px', \n          borderRadius: '12px',\n          textAlign: 'left'\n        }}>\n          <h3 style={{ fontSize: '20px', fontWeight: '600', marginBottom: '12px', color: '#1f2937' }}>\n            🤖 AI Summaries\n          </h3>\n          <p style={{ color: '#6b7280', lineHeight: '1.6' }}>\n            Powered by OpenAI for accurate transcriptions and intelligent meeting summaries.\n          </p>\n        </div>\n\n        <div style={{ \n          backgroundColor: '#f8fafc', \n          padding: '24px', \n          borderRadius: '12px',\n          textAlign: 'left'\n        }}>\n          <h3 style={{ fontSize: '20px', fontWeight: '600', marginBottom: '12px', color: '#1f2937' }}>\n            📧 Auto Email\n          </h3>\n          <p style={{ color: '#6b7280', lineHeight: '1.6' }}>\n            Automatic email delivery of meeting notes to all participants via SendGrid.\n          </p>\n        </div>\n      </div>\n      \n      <footer style={{ \n        marginTop: '64px', \n        padding: '24px', \n        borderTop: '1px solid #e5e7eb',\n        fontSize: '14px',\n        color: '#6b7280',\n        textAlign: 'center'\n      }}>\n        <p style={{ marginBottom: '8px' }}>\n          Door AI Notulist te gebruiken, gaat u akkoord met het verwerken van audio-opnames voor \n          transcriptie en AI-samenvatting doeleinden.\n        </p>\n        <p>\n          <a href=\"/privacy\" style={{ color: '#3b82f6', textDecoration: 'underline' }}>\n            Lees onze privacyverklaring\n          </a> voor meer informatie over gegevensbescherming en uw rechten.\n        </p>\n      </footer>\n    </main>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}